<%- layout("./layouts/boilerplate") %>

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">Find your next adventure</h1>
        <p class="hero-subtitle">Discover unique places to stay and experiences hosted by locals around the world</p>
        
        <div class="search-container">
            <form action="/listings" method="GET" class="search-form">
                <div class="search-input-group">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" name="search" class="search-input" placeholder="Where are you going?">
                </div>
                <div class="search-input-group">
                    <i class="fas fa-calendar search-icon"></i>
                    <input type="date" name="checkin" class="search-input" placeholder="Check-in">
                </div>
                <div class="search-input-group">
                    <i class="fas fa-calendar search-icon"></i>
                    <input type="date" name="checkout" class="search-input" placeholder="Check-out">
                </div>
                <div class="search-input-group">
                    <i class="fas fa-user search-icon"></i>
                    <select name="guests" class="search-input">
                        <option value="">Guests</option>
                        <option value="1">1 Guest</option>
                        <option value="2">2 Guests</option>
                        <option value="3">3 Guests</option>
                        <option value="4">4 Guests</option>
                        <option value="5">5+ Guests</option>
                    </select>
                </div>
                <button type="submit" class="search-button">
                    <span>Search</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </form>
        </div>
    </div>
    <div class="hero-overlay"></div>
</section>

<!-- Featured Destinations -->
<section class="featured-section">
    <div class="container">
        <div class="section-header">
            <h2>Popular Destinations</h2>
            <p>Explore our most sought-after locations</p>
        </div>
        
        <div class="destinations-grid">
            <div class="destination-card">
                <div class="destination-image" style="background-image: url('https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                    <div class="destination-overlay">
                        <h3>Paris, France</h3>
                        <p>1,245 properties</p>
                    </div>
                </div>
            </div>
            
            <div class="destination-card">
                <div class="destination-image" style="background-image: url('https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                    <div class="destination-overlay">
                        <h3>New York, USA</h3>
                        <p>2,187 properties</p>
                    </div>
                </div>
            </div>
            
            <div class="destination-card">
                <div class="destination-image" style="background-image: url('https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                    <div class="destination-overlay">
                        <h3>Tokyo, Japan</h3>
                        <p>987 properties</p>
                    </div>
                </div>
            </div>
            
            <div class="destination-card">
                <div class="destination-image" style="background-image: url('https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');">
                    <div class="destination-overlay">
                        <h3>London, UK</h3>
                        <p>1,543 properties</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Listings -->
<section class="listings-section">
    <div class="container">
        <div class="section-header">
            <h2>Featured Properties</h2>
            <p>Handpicked accommodations for your next stay</p>
        </div>
        
        <div class="listings-grid">
            <% if (listings && listings.length > 0) { %>
                <% listings.slice(0, 6).forEach(listing => { %>
                    <div class="listing-card">
                        <div class="listing-image" style="background-image: url('<%= listing.image %>');">
                            <div class="listing-price">â‚¹<%= listing.price.toLocaleString("en-IN") %>/night</div>
                        </div>
                        <div class="listing-content">
                            <div class="listing-header">
                                <h3 class="listing-title"><%= listing.title %></h3>
                                <div class="listing-rating">
                                    <i class="fas fa-star"></i>
                                    <span><%= listing.rating %></span>
                                </div>
                            </div>
                            <p class="listing-location"><i class="fas fa-map-marker-alt"></i> <%= listing.location %></p>
                            <div class="listing-features">
                                <span><i class="fas fa-bed"></i> <%= listing.bedrooms %> beds</span>
                                <span><i class="fas fa-bath"></i> <%= listing.bathrooms %> baths</span>
                                <span><i class="fas fa-ruler-combined"></i> <%= listing.area %> sqft</span>
                            </div>
                            <a href="/listings/<%= listing._id %>" class="listing-link">View Details</a>
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <div class="no-listings">
                    <i class="fas fa-home"></i>
                    <p>No listings available at the moment</p>
                </div>
            <% } %>
        </div>
        
        <div class="view-more">
            <a href="/listings" class="view-more-button">View All Properties</a>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="how-it-works-section">
    <div class="container">
        <div class="section-header">
            <h2>How StayAura Works</h2>
            <p>Find your perfect stay in three simple steps</p>
        </div>
        
        <div class="steps-container">
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-search"></i>
                </div>
                <h3>Search</h3>
                <p>Browse through thousands of unique properties around the world</p>
            </div>
            
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <h3>Book</h3>
                <p>Reserve your stay with our secure booking system</p>
            </div>
            
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-home"></i>
                </div>
                <h3>Enjoy</h3>
                <p>Experience your perfect stay and create unforgettable memories</p>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials -->
<section class="testimonials-section">
    <div class="container">
        <div class="section-header">
            <h2>What Our Guests Say</h2>
            <p>Real experiences from real travelers</p>
        </div>
        
        <div class="testimonials-slider">
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"StayAura made finding our vacation rental so easy! The property was exactly as described and the host was incredibly helpful."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar" style="background-image: url('https://randomuser.me/api/portraits/women/32.jpg');"></div>
                    <div class="author-info">
                        <h4>Sarah Johnson</h4>
                        <p>Paris, France</p>
                    </div>
                </div>
            </div>
            
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"I've used StayAura for multiple trips and have never been disappointed. The quality of accommodations is consistently excellent."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar" style="background-image: url('https://randomuser.me/api/portraits/men/45.jpg');"></div>
                    <div class="author-info">
                        <h4>Michael Chen</h4>
                        <p>New York, USA</p>
                    </div>
                </div>
            </div>
            
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"The customer service is outstanding. When we had an issue with our booking, the team resolved it quickly and professionally."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar" style="background-image: url('https://randomuser.me/api/portraits/women/68.jpg');"></div>
                    <div class="author-info">
                        <h4>Emma Wilson</h4>
                        <p>London, UK</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>Ready to find your next stay?</h2>
            <p>Join thousands of travelers who have discovered unique accommodations through StayAura</p>
            <div class="cta-buttons">
                <a href="/listings" class="cta-button primary">Browse Properties</a>
                <a href="/signup" class="cta-button secondary">Sign Up Now</a>
            </div>
        </div>
    </div>
</section>

<style>
    /* Base Styles */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    /* Hero Section */
    .hero-section {
        position: relative;
        height: clamp(500px, 80vh, 800px);
        min-height: 500px;
        background-image: url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: white;
        margin-top: -80px; /* Offset for fixed navbar */
        padding-top: 80px; /* Compensate for the negative margin */
        width: 100%;
    }
    
    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.6));
        z-index: 1;
    }
    
    .hero-content {
        position: relative;
        z-index: 2;
        max-width: min(800px, 90%);
        padding: 0 clamp(1rem, 5vw, 2rem);
        width: 100%;
    }
    
    .hero-title {
        font-size: clamp(2rem, 6vw, 3.5rem);
        font-weight: 700;
        margin-bottom: clamp(0.5rem, 2vw, 1rem);
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        line-height: 1.2;
    }
    
    .hero-subtitle {
        font-size: clamp(1rem, 3vw, 1.25rem);
        margin-bottom: clamp(1.5rem, 4vw, 2rem);
        text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        line-height: 1.4;
    }
    
    .search-container {
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: var(--radius-lg);
        padding: clamp(1rem, 3vw, 1.5rem);
        box-shadow: var(--shadow-lg);
        width: 100%;
    }
    
    .search-form {
        display: flex;
        flex-wrap: wrap;
        gap: clamp(0.5rem, 2vw, 1rem);
        width: 100%;
    }
    
    .search-input-group {
        flex: 1;
        min-width: min(200px, 100%);
        position: relative;
    }
    
    .search-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray-medium);
        font-size: clamp(0.8rem, 2vw, 1rem);
    }
    
    .search-input {
        width: 100%;
        padding: clamp(0.7rem, 2vw, 0.9rem) 1rem clamp(0.7rem, 2vw, 0.9rem) 2.5rem;
        border: 1px solid var(--gray-light);
        border-radius: var(--radius-md);
        font-size: clamp(0.8rem, 2vw, 1rem);
        transition: all 0.3s ease;
    }
    
    .search-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(255, 56, 92, 0.1);
    }
    
    .search-button {
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: var(--radius-md);
        padding: clamp(0.7rem, 2vw, 0.9rem) clamp(1rem, 3vw, 1.5rem);
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        font-size: clamp(0.8rem, 2vw, 1rem);
        width: 100%;
    }
    
    .search-button:hover {
        background-color: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 56, 92, 0.2);
    }
    
    /* Featured Destinations */
    .featured-section {
        padding: clamp(3rem, 8vw, 5rem) 0;
        background-color: var(--white);
        width: 100%;
    }
    
    .container {
        max-width: min(1200px, 95%);
        margin: 0 auto;
        width: 100%;
    }
    
    .section-header {
        text-align: center;
        margin-bottom: clamp(2rem, 5vw, 3rem);
        width: 100%;
    }
    
    .section-header h2 {
        font-size: clamp(1.8rem, 5vw, 2.5rem);
        font-weight: 700;
        margin-bottom: clamp(0.5rem, 2vw, 1rem);
        color: var(--dark-color);
        line-height: 1.2;
    }
    
    .section-header p {
        color: var(--gray-medium);
        font-size: clamp(0.9rem, 2.5vw, 1.1rem);
        line-height: 1.4;
    }
    
    .destinations-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
        gap: clamp(1rem, 3vw, 1.5rem);
        width: 100%;
    }
    
    .destination-card {
        border-radius: var(--radius-md);
        overflow: hidden;
        box-shadow: var(--shadow-sm);
        transition: all 0.3s ease;
        height: clamp(150px, 30vw, 200px);
        width: 100%;
    }
    
    .destination-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    .destination-image {
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        position: relative;
    }
    
    .destination-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: clamp(1rem, 3vw, 1.5rem);
        background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        color: white;
    }
    
    .destination-overlay h3 {
        font-size: clamp(1.2rem, 4vw, 1.5rem);
        font-weight: 700;
        margin-bottom: 0.5rem;
        line-height: 1.2;
    }
    
    .destination-overlay p {
        font-size: clamp(0.8rem, 2vw, 0.9rem);
        opacity: 0.8;
    }
    
    /* Listings Section */
    .listings-section {
        padding: clamp(3rem, 8vw, 5rem) 0;
        background-color: var(--light-color);
        width: 100%;
    }
    
    .listings-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
        gap: clamp(1.5rem, 4vw, 2rem);
        width: 100%;
    }
    
    .listing-card {
        background-color: var(--white);
        border-radius: var(--radius-md);
        overflow: hidden;
        box-shadow: var(--shadow-sm);
        transition: all 0.3s ease;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .listing-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    .listing-image {
        height: clamp(150px, 30vw, 200px);
        background-size: cover;
        background-position: center;
        position: relative;
        width: 100%;
    }
    
    .listing-price {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background-color: var(--primary-color);
        color: white;
        padding: clamp(0.3rem, 1.5vw, 0.5rem) clamp(0.7rem, 2vw, 1rem);
        border-radius: var(--radius-full);
        font-weight: 700;
        font-size: clamp(0.8rem, 2vw, 1rem);
    }
    
    .listing-content {
        padding: clamp(1rem, 3vw, 1.5rem);
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }
    
    .listing-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 0.5rem;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .listing-title {
        font-size: clamp(1rem, 3vw, 1.25rem);
        font-weight: 700;
        margin: 0;
        color: var(--dark-color);
        line-height: 1.3;
    }
    
    .listing-rating {
        display: flex;
        align-items: center;
        gap: 0.3rem;
        color: #FFB800;
        font-size: clamp(0.8rem, 2vw, 1rem);
    }
    
    .listing-location {
        color: var(--gray-medium);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: clamp(0.8rem, 2vw, 1rem);
    }
    
    .listing-features {
        display: flex;
        flex-wrap: wrap;
        gap: clamp(0.5rem, 2vw, 1rem);
        margin-bottom: 1rem;
        color: var(--gray-dark);
        font-size: clamp(0.8rem, 2vw, 0.9rem);
    }
    
    .listing-features span {
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }
    
    .listing-link {
        display: inline-block;
        color: var(--primary-color);
        font-weight: 600;
        text-decoration: none;
        transition: color 0.3s ease;
        font-size: clamp(0.8rem, 2vw, 1rem);
        margin-top: auto;
    }
    
    .listing-link:hover {
        color: var(--primary-dark);
        text-decoration: underline;
    }
    
    .no-listings {
        grid-column: 1 / -1;
        text-align: center;
        padding: clamp(2rem, 5vw, 3rem);
        background-color: var(--white);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-sm);
    }
    
    .no-listings i {
        font-size: clamp(2rem, 6vw, 3rem);
        color: var(--gray-light);
        margin-bottom: 1rem;
    }
    
    .view-more {
        text-align: center;
        margin-top: clamp(2rem, 5vw, 3rem);
    }
    
    .view-more-button {
        display: inline-block;
        padding: clamp(0.7rem, 2vw, 0.9rem) clamp(1.5rem, 4vw, 2rem);
        background-color: var(--white);
        color: var(--primary-color);
        border: 2px solid var(--primary-color);
        border-radius: var(--radius-full);
        font-weight: 700;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: clamp(0.8rem, 2vw, 1rem);
    }
    
    .view-more-button:hover {
        background-color: var(--primary-color);
        color: var(--white);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 56, 92, 0.2);
    }
    
    /* How It Works Section */
    .how-it-works-section {
        padding: clamp(3rem, 8vw, 5rem) 0;
        background-color: var(--white);
        width: 100%;
    }
    
    .steps-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
        gap: clamp(1.5rem, 4vw, 2rem);
        margin-top: clamp(2rem, 5vw, 3rem);
        width: 100%;
    }
    
    .step-card {
        text-align: center;
        padding: clamp(1.5rem, 4vw, 2rem);
        background-color: var(--light-color);
        border-radius: var(--radius-md);
        transition: all 0.3s ease;
        width: 100%;
    }
    
    .step-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    .step-icon {
        width: clamp(60px, 15vw, 80px);
        height: clamp(60px, 15vw, 80px);
        background-color: var(--primary-light);
        color: var(--primary-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        font-size: clamp(1.5rem, 4vw, 2rem);
    }
    
    .step-card h3 {
        font-size: clamp(1.2rem, 3.5vw, 1.5rem);
        font-weight: 700;
        margin-bottom: 1rem;
        color: var(--dark-color);
        line-height: 1.2;
    }
    
    .step-card p {
        color: var(--gray-medium);
        font-size: clamp(0.8rem, 2vw, 1rem);
        line-height: 1.4;
    }
    
    /* Testimonials Section */
    .testimonials-section {
        padding: clamp(3rem, 8vw, 5rem) 0;
        background-color: var(--light-color);
        width: 100%;
    }
    
    .testimonials-slider {
        display: flex;
        gap: clamp(1rem, 3vw, 2rem);
        overflow-x: auto;
        padding: 1rem 0;
        scrollbar-width: none;
        width: 100%;
        scroll-snap-type: x mandatory;
    }
    
    .testimonials-slider::-webkit-scrollbar {
        display: none;
    }
    
    .testimonial-card {
        flex: 0 0 min(350px, 90%);
        background-color: var(--white);
        border-radius: var(--radius-md);
        padding: clamp(1.5rem, 4vw, 2rem);
        box-shadow: var(--shadow-sm);
        transition: all 0.3s ease;
        scroll-snap-align: start;
    }
    
    .testimonial-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    .testimonial-content {
        margin-bottom: 1.5rem;
    }
    
    .testimonial-content p {
        font-style: italic;
        color: var(--gray-dark);
        line-height: 1.6;
        font-size: clamp(0.8rem, 2vw, 1rem);
    }
    
    .testimonial-author {
        display: flex;
        align-items: center;
        gap: 1rem;
    }
    
    .author-avatar {
        width: clamp(40px, 10vw, 50px);
        height: clamp(40px, 10vw, 50px);
        border-radius: 50%;
        background-size: cover;
        background-position: center;
        flex-shrink: 0;
    }
    
    .author-info h4 {
        font-size: clamp(0.9rem, 2.5vw, 1.1rem);
        font-weight: 700;
        margin: 0;
        color: var(--dark-color);
        line-height: 1.2;
    }
    
    .author-info p {
        font-size: clamp(0.8rem, 2vw, 0.9rem);
        color: var(--gray-medium);
        margin: 0;
    }
    
    /* CTA Section */
    .cta-section {
        padding: clamp(3rem, 8vw, 5rem) 0;
        background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
        color: white;
        text-align: center;
        width: 100%;
    }
    
    .cta-content {
        max-width: min(700px, 90%);
        margin: 0 auto;
        width: 100%;
    }
    
    .cta-content h2 {
        font-size: clamp(1.8rem, 5vw, 2.5rem);
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
    }
    
    .cta-content p {
        font-size: clamp(0.9rem, 2.5vw, 1.1rem);
        margin-bottom: 2rem;
        opacity: 0.9;
        line-height: 1.4;
    }
    
    .cta-buttons {
        display: flex;
        justify-content: center;
        gap: clamp(0.5rem, 2vw, 1rem);
        flex-wrap: wrap;
    }
    
    .cta-button {
        display: inline-block;
        padding: clamp(0.7rem, 2vw, 0.9rem) clamp(1.5rem, 4vw, 2rem);
        border-radius: var(--radius-full);
        font-weight: 700;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: clamp(0.8rem, 2vw, 1rem);
        min-width: min(200px, 100%);
        text-align: center;
    }
    
    .cta-button.primary {
        background-color: white;
        color: var(--primary-color);
    }
    
    .cta-button.primary:hover {
        background-color: rgba(255, 255, 255, 0.9);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .cta-button.secondary {
        background-color: transparent;
        color: white;
        border: 2px solid white;
    }
    
    .cta-button.secondary:hover {
        background-color: rgba(255, 255, 255, 0.1);
        transform: translateY(-2px);
    }
    
    /* Responsive Styles */
    @media (max-width: 992px) {
        .hero-title {
            font-size: clamp(2rem, 5vw, 2.5rem);
        }
    }
    
    @media (max-width: 768px) {
        .hero-section {
            height: auto;
            padding: clamp(4rem, 10vw, 6rem) 0;
        }
        
        .search-form {
            flex-direction: column;
        }
        
        .search-input-group {
            width: 100%;
        }
        
        .search-button {
            width: 100%;
            justify-content: center;
        }
        
        .cta-buttons {
            flex-direction: column;
        }
        
        .cta-button {
            width: 100%;
            text-align: center;
        }
    }
    
    @media (max-width: 576px) {
        .section-header h2 {
            font-size: clamp(1.5rem, 4vw, 2rem);
        }
    }
</style>

<script>
    // Initialize date inputs with min date as today
    document.addEventListener('DOMContentLoaded', function() {
        const today = new Date().toISOString().split('T')[0];
        const checkinInput = document.querySelector('input[name="checkin"]');
        const checkoutInput = document.querySelector('input[name="checkout"]');
        
        if (checkinInput) {
            checkinInput.min = today;
            checkinInput.addEventListener('change', function() {
                if (checkoutInput) {
                    checkoutInput.min = this.value;
                    if (checkoutInput.value && checkoutInput.value < this.value) {
                        checkoutInput.value = this.value;
                    }
                }
            });
        }
        
        if (checkoutInput) {
            checkoutInput.min = today;
        }
    });
</script> 